<form *ngIf="ps.product as product" #f="ngForm">
  <div class="form-group">
    <label for="title">Titre</label>
    <input
      required
      name="title"
      [(ngModel)]="product.title"
      id="title"
      type="text"
      class="form-control"
    />
  </div>

  <div class="form-group">
    <label for="price">Prix</label>
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">â‚¬</div>
      </div>
      <input
        name="price"
        [(ngModel)]="product.price"
        id="price"
        type="number"
        class="form-control"
        min="0"
        required
      />
    </div>
  </div>
  <div class="form-group">
    <label for="tags">Tags</label>
    <input
      id="typeahead-basic"
      type="text"
      class="form-control"
      [inputFormatter]="formatter"
      [ngbTypeahead]="search"
      [resultTemplate]="rt"
      [(ngModel)]="tag"
      (keyup.enter)="addTag()"
      name="tag"
    />

    <ng-template #rt let-r="result" let-t="term">
      <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
    </ng-template>

    <ul style="list-style: none;" class="list-inline">
      <li *ngFor="let t of filteredTags" class="list-inline-item">
        <span class="badge" [ngStyle]="{ color: t.color }">{{ t.name }}</span>
        <span> x</span>
      </li>
    </ul>
  </div>

  <div class="form-group">
    <progress
      id="uploader"
      [value]="uploadPercent | async"
      max="100"
    ></progress>
    <input multiple (change)="imageUpload($event)" type="file" value="upload" />
  </div>
  <button
    type="submit"
    (click)="save()"
    [disabled]="f.invalid"
    class="btn-light btn-lg"
  >
    ðŸ’¾
  </button>
  <button (click)="onReturn()" class="btn-light btn-lg float-right">
    ðŸ”™
  </button>
</form>
