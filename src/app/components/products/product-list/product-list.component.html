<h1 class="font-weight-light text-center text-lg-left mt-4">
  Arc en perles ðŸŒˆðŸ’Ž
</h1>
<hr class="mb-4" />

<product-filter
  [count]="totalCount"
  [pierre]="pierreParam"
  [couleur]="couleurParam"
  [category]="category"
></product-filter>

<div
  class="search-results"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="50"
  (scrolled)="getItems()"
>
  <div class="row">
    <div *ngFor="let product of items" class="col-lg-3 col-md-4 col-6">
      <a
        routerLink="/bijoux/{{ product.id }}"
        class="d-block mb-4 h-100 text-center"
      >
        <img
          class="img-fluid shadow mb-2"
          *ngIf="product.gallery.length > 0; else prisme"
          src="{{ product.gallery[0] | size: '400' }}"
          alt="{{ product.title }}"
        />
        <ng-template #prisme>
          <img
            [src]="imgNotAvailable | noImgSize: '400'"
            alt="photo non disponible"
            class="img-fluid shadow mb-2"
          />
        </ng-template>
        <span class="price">{{ product.price }} TND</span>
      </a>
    </div>
  </div>
  <div *ngIf="totalCount > 0 && canLoadMore" class="text-center">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>
